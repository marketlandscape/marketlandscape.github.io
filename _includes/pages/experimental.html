<!-- grid.html (FULL FILE, PAGE-LOCAL GRID ONLY)
     TEST: boxes are DARK via HTML-only variable override
     Page outside boxes stays LIGHT
-->

test

<div
  class="v2 v2-grid"
  style="
    /* force DARK theme tokens ONLY inside this grid */
    --entity-bg:#242424;
    --entity-fg:#ffffff;
    --entity-muted:rgba(255,255,255,0.65);
    --entity-stroke:rgba(255,255,255,0.18);
    --entity-dot-outer:rgba(0,0,0,0.55);
    --entity-dot-inner:rgba(255,255,255,0.9);
  "
>

  <div class="indexes">

    <!-- =========================
         BOX 1 — YELLOW
         ========================= -->
    <div class="cell-box1">
      <div class="entity-box" data-box="1">

        <div class="entity-title">{% include t.html key="index.box1.title" %}</div>

        <!-- force dark bar (HTML, no prefers-color-scheme) -->
        <img class="entity-bar entity-bar-img"
             src="/assets/img/bar-orange-dark.svg"
             alt=""
             aria-hidden="true">

        <svg class="entity-frame" viewBox="0 0 360 150" aria-hidden="true">
          <rect class="entity-frame-bg"
                x="0" y="0" width="360" height="150" rx="14" ry="14"
                fill="var(--entity-bg)"></rect>
          <rect class="entity-frame-stroke"
                x="0.5" y="0.5" width="359" height="149" rx="13.5" ry="13.5"
                fill="none"
                stroke="var(--entity-stroke)"></rect>
        </svg>

        <div class="entity-steps">
          <span>{% include t.html key="index.step.entry" %}</span>
          <span>{% include t.html key="index.step.scale_in" %}</span>
          <span>{% include t.html key="index.step.hold" %}</span>
          <span>{% include t.html key="index.step.conviction" %}</span>
          <span>{% include t.html key="index.step.hodl" %}</span>
        </div>

        <div class="entity-value" data-role="val">–</div>

        <div class="entity-risk">
          <span class="entity-warn" data-role="warn">⚠</span>
          <span class="entity-risk-label">{% include t.html key="index.risk.label" %}</span>
          <span class="entity-risk-val" data-role="risk">–%</span>
        </div>

        <svg class="entity-dot-layer" viewBox="0 0 360 150" aria-hidden="true">
          <circle class="entity-dot-outer"
                  cx="29.76" cy="121.2" r="9"
                  fill="var(--entity-dot-outer)"
                  stroke="var(--entity-stroke)"
                  stroke-width="2"></circle>
          <circle class="entity-dot-inner"
                  cx="29.76" cy="121.2" r="6"
                  fill="var(--entity-dot-inner)"></circle>
        </svg>

      </div>
    </div>

    <!-- =========================
         NAV HISTORY (top-right)
         ========================= -->
    <div class="cell-history">
      <div class="entity-history-box">

        <img
          class="history-img"
          src="/assets/img/charts/nav_2w.svg"
          alt=""
          loading="eager"
          decoding="async"
        >

        <div class="nav-xlabels" aria-hidden="true"></div>

        <svg class="entity-frame" viewBox="0 0 360 150" aria-hidden="true">
          <rect class="entity-frame-bg"
                x="0" y="0" width="360" height="150" rx="14" ry="14"
                fill="var(--entity-bg)"></rect>
          <rect class="entity-frame-stroke"
                x="0.5" y="0.5" width="359" height="149" rx="13.5" ry="13.5"
                fill="none"
                stroke="var(--entity-stroke)"></rect>
        </svg>

      </div>
    </div>

    <!-- =========================
         BOX 2 — BLUE
         ========================= -->
    <div class="cell-box2">
      <div class="entity-box" data-box="2">

        <div class="entity-title">{% include t.html key="index.box2.title" %}</div>

        <img class="entity-bar entity-bar-img"
             src="/assets/img/bar-blue-dark.svg"
             alt=""
             aria-hidden="true">

        <svg class="entity-frame" viewBox="0 0 360 150" aria-hidden="true">
          <rect class="entity-frame-bg"
                x="0" y="0" width="360" height="150" rx="14" ry="14"
                fill="var(--entity-bg)"></rect>
          <rect class="entity-frame-stroke"
                x="0.5" y="0.5" width="359" height="149" rx="13.5" ry="13.5"
                fill="none"
                stroke="var(--entity-stroke)"></rect>
        </svg>

        <div class="entity-steps">
          <span>{% include t.html key="index.step.entry" %}</span>
          <span>{% include t.html key="index.step.scale_in" %}</span>
          <span>{% include t.html key="index.step.hold" %}</span>
          <span>{% include t.html key="index.step.reduce" %}</span>
          <span>{% include t.html key="index.step.exit" %}</span>
        </div>

        <div class="entity-value" data-role="val">–</div>

        <div class="entity-risk">
          <span class="entity-warn" data-role="warn">⚠</span>
          <span class="entity-risk-label">{% include t.html key="index.risk.label" %}</span>
          <span class="entity-risk-val" data-role="risk">–%</span>
        </div>

        <svg class="entity-dot-layer" viewBox="0 0 360 150" aria-hidden="true">
          <circle class="entity-dot-outer"
                  cx="29.76" cy="121.2" r="9"
                  fill="var(--entity-dot-outer)"
                  stroke="var(--entity-stroke)"
                  stroke-width="2"></circle>
          <circle class="entity-dot-inner"
                  cx="29.76" cy="121.2" r="6"
                  fill="var(--entity-dot-inner)"></circle>
        </svg>

      </div>
    </div>

    <!-- =========================
         BOX 3–5 (GREY, experimental)
         ========================= -->

    <!-- BOX 3 -->
    <div class="cell-box3">
      <div class="entity-box" data-box="3">
        <div class="entity-title">
          {% include t.html key="experimental.box3.title" default="Altcoin Navigation Index" %}
        </div>
        <img class="entity-bar entity-bar-img"
             src="/assets/img/bar-updated-grey.svg"
             alt=""
             aria-hidden="true">
        <svg class="entity-frame" viewBox="0 0 360 150" aria-hidden="true">
          <rect class="entity-frame-bg" x="0" y="0" width="360" height="150" rx="14" ry="14"
                fill="var(--entity-bg)"></rect>
          <rect class="entity-frame-stroke" x="0.5" y="0.5" width="359" height="149" rx="13.5" ry="13.5"
                fill="none" stroke="var(--entity-stroke)"></rect>
        </svg>
        <div class="entity-steps">
          <span>{% include t.html key="index.step.entry" %}</span>
          <span>{% include t.html key="index.step.scale_in" %}</span>
          <span>{% include t.html key="index.step.hold" %}</span>
          <span>{% include t.html key="index.step.reduce" %}</span>
          <span>{% include t.html key="index.step.exit" %}</span>
        </div>
        <div class="entity-value" data-role="val">–</div>
        <div class="entity-risk">
          <span class="entity-warn" data-role="warn">⚠</span>
          <span class="entity-risk-label">{% include t.html key="index.risk.label" %}</span>
          <span class="entity-risk-val" data-role="risk">–%</span>
        </div>
        <svg class="entity-dot-layer" viewBox="0 0 360 150" aria-hidden="true">
          <circle class="entity-dot-outer" cx="29.76" cy="121.2" r="9"
                  fill="var(--entity-dot-outer)" stroke="var(--entity-stroke)" stroke-width="2"></circle>
          <circle class="entity-dot-inner" cx="29.76" cy="121.2" r="6"
                  fill="var(--entity-dot-inner)"></circle>
        </svg>
      </div>
    </div>

    <!-- BOX 4 -->
    <div class="cell-box4">
      <div class="entity-box" data-box="4">
        <div class="entity-title">
          {% include t.html key="experimental.box4.title" default="Box 4" %}
        </div>
        <img class="entity-bar entity-bar-img"
             src="/assets/img/bar-updated-grey.svg"
             alt=""
             aria-hidden="true">
        <svg class="entity-frame" viewBox="0 0 360 150" aria-hidden="true">
          <rect class="entity-frame-bg" x="0" y="0" width="360" height="150" rx="14" ry="14"
                fill="var(--entity-bg)"></rect>
          <rect class="entity-frame-stroke" x="0.5" y="0.5" width="359" height="149" rx="13.5" ry="13.5"
                fill="none" stroke="var(--entity-stroke)"></rect>
        </svg>
        <div class="entity-steps">
          <span>{% include t.html key="index.step.entry" %}</span>
          <span>{% include t.html key="index.step.scale_in" %}</span>
          <span>{% include t.html key="index.step.hold" %}</span>
          <span>{% include t.html key="index.step.reduce" %}</span>
          <span>{% include t.html key="index.step.exit" %}</span>
        </div>
        <div class="entity-value" data-role="val">–</div>
        <div class="entity-risk">
          <span class="entity-warn" data-role="warn">⚠</span>
          <span class="entity-risk-label">{% include t.html key="index.risk.label" %}</span>
          <span class="entity-risk-val" data-role="risk">–%</span>
        </div>
        <svg class="entity-dot-layer" viewBox="0 0 360 150" aria-hidden="true">
          <circle class="entity-dot-outer" cx="29.76" cy="121.2" r="9"
                  fill="var(--entity-dot-outer)" stroke="var(--entity-stroke)" stroke-width="2"></circle>
          <circle class="entity-dot-inner" cx="29.76" cy="121.2" r="6"
                  fill="var(--entity-dot-inner)"></circle>
        </svg>
      </div>
    </div>

    <!-- BOX 5 -->
    <div class="cell-box5">
      <div class="entity-box" data-box="5">
        <div class="entity-title">
          {% include t.html key="experimental.box5.title" default="Box 5" %}
        </div>
        <img class="entity-bar entity-bar-img"
             src="/assets/img/bar-updated-grey.svg"
             alt=""
             aria-hidden="true">
        <svg class="entity-frame" viewBox="0 0 360 150" aria-hidden="true">
          <rect class="entity-frame-bg" x="0" y="0" width="360" height="150" rx="14" ry="14"
                fill="var(--entity-bg)"></rect>
          <rect class="entity-frame-stroke" x="0.5" y="0.5" width="359" height="149" rx="13.5" ry="13.5"
                fill="none" stroke="var(--entity-stroke)"></rect>
        </svg>
        <div class="entity-steps">
          <span>{% include t.html key="index.step.entry" %}</span>
          <span>{% include t.html key="index.step.scale_in" %}</span>
          <span>{% include t.html key="index.step.hold" %}</span>
          <span>{% include t.html key="index.step.reduce" %}</span>
          <span>{% include t.html key="index.step.exit" %}</span>
        </div>
        <div class="entity-value" data-role="val">–</div>
        <div class="entity-risk">
          <span class="entity-warn" data-role="warn">⚠</span>
          <span class="entity-risk-label">{% include t.html key="index.risk.label" %}</span>
          <span class="entity-risk-val" data-role="risk">–%</span>
        </div>
        <svg class="entity-dot-layer" viewBox="0 0 360 150" aria-hidden="true">
          <circle class="entity-dot-outer" cx="29.76" cy="121.2" r="9"
                  fill="var(--entity-dot-outer)" stroke="var(--entity-stroke)" stroke-width="2"></circle>
          <circle class="entity-dot-inner" cx="29.76" cy="121.2" r="6"
                  fill="var(--entity-dot-inner)"></circle>
        </svg>
      </div>
    </div>

  </div>

</div>

<!--
  Result:
  - Page remains LIGHT
  - All boxes + history are permanently DARK
  - No global CSS touched
  - No prefers-color-scheme used
-->
