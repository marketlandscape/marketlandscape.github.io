<!-- wide.html â€” experimental wide NAV history (SVG + transparent hover layer) -->

<div class="v2 v2-nav-history-wide" data-lang="{{ page.lang | default: site.lang | default: 'en' }}">

  <div class="history-topbar">
    <div class="history-spacer"></div>

    <div class="history-controls" role="group" aria-label="Time range">
      <button class="nav-range-btn is-active" data-range="1w" type="button">{% include t.html key="history.range.w1" %}</button>
      <button class="nav-range-btn" data-range="2w" type="button">{% include t.html key="history.range.w2" %}</button>
      <button class="nav-range-btn" data-range="1m" type="button">{% include t.html key="history.range.m1" %}</button>
      <button class="nav-range-btn" data-range="3m" type="button">{% include t.html key="history.range.m3" %}</button>
      <button class="nav-range-btn" data-range="6m" type="button">{% include t.html key="history.range.m6" %}</button>
      <button class="nav-range-btn" data-range="1y" type="button">{% include t.html key="history.range.y1" %}</button>
    </div>
  </div>

  <div
  class="entity-history-box wide"
  data-default-range="1w"
  style="
    position: relative;
    width: 100%;
    aspect-ratio: 740 / 308;
    overflow: hidden;
    border-radius: 14px;
  "
>
    <!-- Frame BEHIND (BG + STROKE) -->
    <svg class="entity-frame" viewBox="0 0 740 308" aria-hidden="true"
         style="position:absolute; inset:0; z-index:0; pointer-events:none;">
      <rect class="entity-frame-bg" x="0" y="0" width="740" height="308" rx="14" ry="14"></rect>
      <rect class="entity-frame-stroke" x="0.5" y="0.5" width="739" height="307" rx="13.5" ry="13.5"></rect>
    </svg>

    <!-- SVG chart -->
    <img
      class="history-img"
      src="/assets/img/charts/wide/nav_1w.svg"
      alt=""
      loading="eager"
      decoding="async"
      style="position:absolute; inset:0; width:100%; height:100%; z-index:1; display:block; object-fit:contain;"
    >

    <!-- REQUIRED for nav-history-wide-switch.js (labels are reconstructed from SVG <desc id="nav-meta">) -->
    <div class="nav-xlabels" aria-hidden="true"
         style="position:absolute; left:0; right:0; bottom:10px; z-index:2; pointer-events:none;"></div>

    <!-- Transparent ECharts hover layer -->
    <div
      class="nav-echarts-layer"
      data-range="1w"
      style="position:absolute; inset:0; z-index:3; pointer-events:auto;"
    ></div>

  </div>

</div>

<script src="/assets/js/i18n-date.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js" defer></script>
<script src="/assets/js/nav-history-wide-hover.js" defer></script>
<script src="/assets/js/nav-history-wide-switch.js" defer></script>
